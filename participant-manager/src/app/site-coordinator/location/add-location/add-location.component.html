<section class="subheader p-none pl-none">
  <div class="max__w__850 m-none">
    <div class="row">
      <div>
        <a routerLink="/coordinator/locations" class="subheader__title">
          <img src="assets/svgs/back-arrow.svg" alt="" />
        </a>
        <span class="pl-2">Add new location</span>
      </div>
    </div>
  </div>
</section>

<section class="max__w__850 add__location">
  <form
    ngForm
    #addLocationForm="ngForm"
    (ngSubmit)="addLocation()"
    autocomplete="off"
  >
    <div class="bg__white card__inside__pad box__shadow-cmn m-none">
      <div class="row border-bottom__c4d1e6">
        <div class="col-xs-12 col-md-6 p-none border-right__c4d1e6">
          <div class="form-group">
            <label for="study">Location ID</label>
            <input
              type="text"
              class="form-control"
              placeholder="Enter location ID"
              [(ngModel)]="location.customId"
              maxlength="15"
              required
              name="customId"
              #customId="ngModel"
              pattern="^[A-Za-z0-9*()_+|:.-]*$"
            />

            <div
              class="validation-error"
              *ngIf="customId.invalid && (customId.dirty || customId.touched)"
            >
              <span
                class="help-block with-errors error__msg"
                *ngIf="customId.errors?.required"
              >
                Enter a location ID
              </span>
              <span
                class="help-block with-errors error__msg"
                *ngIf="customId.errors?.maxlength"
              >
                Location ID exceeds max length (15 characters)
              </span>
              <span
                class="help-block with-errors error__msg"
                *ngIf="customId.errors?.pattern"
              >
                Please use characters from the following set only: A-Z a-z 0-9
                *()_+|:.-
              </span>
              <span
                class="help-block with-errors error__msg"
                *ngIf="
                  customId.errors &&
                  !customId.errors.required &&
                  !customId.errors?.pattern &&
                  !customId.errors.maxlength
                "
              >
                Location ID is invalid
              </span>
            </div>
          </div>
        </div>
        <div class="col-xs-12 col-md-6 p-none">
          <div class="form-group">
            <label for="app" class="txt_style_unset">Location name</label>
            <input
              type="text"
              class="form-control"
              placeholder="Enter location name"
              [(ngModel)]="location.name"
              required
              name="name"
              maxlength="200"
              #name="ngModel"
              pattern="^(?!\s)[A-Za-z0-9\s*()_+|:.-]*$"
            />

            <div
              class="validation-error"
              *ngIf="name.invalid && (name.dirty || name.touched)"
            >
              <span
                class="help-block with-errors error__msg"
                *ngIf="name.errors?.required"
              >
                Enter a location name
              </span>
              <span
                class="help-block with-errors error__msg"
                *ngIf="name.errors?.pattern"
              >
                Please use characters from the following set only: A-Z a-z 0-9
                *()_+|:.-
              </span>
              <span
                class="help-block with-errors error__msg"
                *ngIf="
                  name.errors &&
                  !name.errors.required &&
                  !name.errors?.pattern &&
                  !name.errors.maxlength
                "
              >
                Location name is invalid
              </span>
            </div>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-xs-12 col-md-12 p-none">
          <div class="form-group">
            <label for="Location">Description</label>
            <input
              type="text"
              class="form-control"
              placeholder="Enter description"
              [(ngModel)]="location.description"
              required
              name="description"
              maxlength="500"
              #description="ngModel"
              pattern="^(?!\s)[A-Za-z0-9\s*()_+|:.-]*$"
            />

            <div
              class="validation-error"
              *ngIf="
                description.invalid &&
                (description.dirty || description.touched)
              "
            >
              <span
                class="help-block with-errors error__msg"
                *ngIf="description.errors?.required"
              >
                Enter a location description
              </span>
              <span
                class="help-block with-errors error__msg"
                *ngIf="description.errors?.maxlength"
              >
                Location description exceeds max length (500 characters)
              </span>
              <span
                class="help-block with-errors error__msg"
                *ngIf="description.errors?.pattern"
              >
                Please use characters from the following set only: A-Z a-z 0-9
                *()_+|:.-
              </span>
              <span
                class="help-block with-errors error__msg"
                *ngIf="
                  description.errors &&
                  !description.errors.required &&
                  !description.errors.pattern &&
                  !description.errors.maxlength
                "
              >
                Location description is invalid
              </span>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="btn__container">
      <button
        name="add"
        type="submit"
        class="btn bt__add mr-sm"
        [disabled]="!addLocationForm.form.valid"
      >
        Add
      </button>
      <button
        name="cancel"
        type="button"
        class="btn bt__cancel"
        routerLink="/coordinator/locations"
      >
        Cancel
      </button>
    </div>
  </form>
</section>
